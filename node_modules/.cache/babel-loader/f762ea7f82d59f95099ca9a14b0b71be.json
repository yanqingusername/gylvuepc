{"remainingRequest":"/Users/user/coyote/vue2-dynamic-routing/node_modules/babel-loader/lib/index.js!/Users/user/coyote/vue2-dynamic-routing/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/user/coyote/vue2-dynamic-routing/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/coyote/vue2-dynamic-routing/src/views/login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/coyote/vue2-dynamic-routing/src/views/login/index.vue","mtime":1681202225769},{"path":"/Users/user/coyote/vue2-dynamic-routing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/coyote/vue2-dynamic-routing/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/user/coyote/vue2-dynamic-routing/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/coyote/vue2-dynamic-routing/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZHluYW1pY1VzZXIgZnJvbSAiLi4vLi4vbW9jayI7CmltcG9ydCB7IGdldExvZ2luLCBnZXRNZW51IH0gZnJvbSAiLi4vLi4vcmVxdWVzdC9hcGkiOwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC11aSI7CmltcG9ydCBtZDUgZnJvbSAnanMtbWQ1JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHsKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMudXNlckZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgZmxhZyA9ICExOwogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VySW5mbyIpOwogICAgICAgICAgZHluYW1pY1VzZXIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpZiAoaXRlbVsidXNlcm5hbWUiXSA9PSBfdGhpcy51c2VyWyd1c2VybmFtZSddICYmIGl0ZW1bInBhc3N3b3JkIl0gPT0gX3RoaXMudXNlclsncGFzc3dvcmQnXSkgewogICAgICAgICAgICAgIGZsYWcgPSAhMDsKICAgICAgICAgICAgICBNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLnmbvlvZXmiJDlip8iLAogICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJJbmZvIiwgSlNPTi5zdHJpbmdpZnkoaXRlbSkpOwoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgICAgICAgcGF0aDogIi8iCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKCFmbGFnKSBNZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgICBtZXNzYWdlOiAi6LSm5Y+35a+G56CB6ZSZ6K+v77yM6K+36YeN6K+VISIsCiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgZHVyYXRpb246IDMwMDAKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgICAgZ2V0TG9naW4oewogICAgICAgICAgICB1c2VyUGhvbmU6IF90aGlzLnVzZXJbJ3VzZXJuYW1lJ10sCiAgICAgICAgICAgIHBhc3NXb3JkOiBtZDUoX3RoaXMudXNlclsncGFzc3dvcmQnXSksCiAgICAgICAgICAgIHZlckNvZGU6IF90aGlzLnVzZXJbJ3Bhc3N3b3JkJ10KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAvLyBNZXNzYWdlKHsgdHlwZTogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiAi55m75b2V5oiQ5YqfIiwgc2hvd0Nsb3NlOiB0cnVlLCBkdXJhdGlvbjogMzAwMCB9KQogICAgICAgICAgICAgIC8vIGxldCBpdGVtID0gewogICAgICAgICAgICAgIC8vIAlyb2xlX25hbWU6IHJlcy5kYXRhLnJvbGVfbmFtZSwKICAgICAgICAgICAgICAvLyAJZmFybV9pZDogcmVzLmRhdGEuZmFybV9pZAogICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAvLyB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJJbmZvIiwgSlNPTi5zdHJpbmdpZnkoaXRlbSkpCiAgICAgICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAiLyIgfSkKICAgICAgICAgICAgICBfdGhpcy5nZXRNZW51TWV0aG9kKHJlcy5kYXRhLnJvbGVfbmFtZSwgcmVzLmRhdGEuZmFybV9pZCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgTWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAi6LSm5Y+35a+G56CB6ZSZ6K+v77yM6K+36YeN6K+VISIsCiAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRNZW51TWV0aG9kOiBmdW5jdGlvbiBnZXRNZW51TWV0aG9kKHJvbGVfbmFtZSwgZmFybV9pZCkgewogICAgICBnZXRNZW51KHt9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2Vzcykgey8vIE1lc3NhZ2UoeyB0eXBlOiAnc3VjY2VzcycsIG1lc3NhZ2U6ICLnmbvlvZXmiJDlip8iLCBzaG93Q2xvc2U6IHRydWUsIGR1cmF0aW9uOiAzMDAwIH0pCiAgICAgICAgICAvLyBsZXQgaXRlbSA9IHsKICAgICAgICAgIC8vIAlyb2xlX25hbWU6IHJvbGVfbmFtZSwKICAgICAgICAgIC8vIAlmYXJtX2lkOiBmYXJtX2lkCiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJJbmZvIiwgSlNPTi5zdHJpbmdpZnkoaXRlbSkpCiAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICIvIiB9KQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"login-wrapper\">\n\t\t<div class=\"login_img_view\">\n\t\t\t<img class=\"login_img\" src=\"http://syrdev.coyotebio-lab.com:8080/wisdomLivestockWH/pig/picture/login-img.png\" />\n\t\t</div>\n\t\t<div class=\"modal\">\n\t\t\t<el-form :model=\"user\" status-icon :rules=\"rules\" ref=\"userForm\">\n\t\t\t\t<div class=\"title\">智慧畜牧PC系统</div>\n\t\t\t\t<el-form-item prop=\"username\">\n\t\t\t\t\t<el-input type=\"text\" prefix-icon=\"el-icon-user\" placeholder=\"请输入用户名\" v-model=\"user.username\" />\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item prop=\"password\">\n\t\t\t\t\t<el-input type=\"password\" prefix-icon=\"el-icon-view\" placeholder=\"请输入密码\" v-model=\"user.password\" />\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item>\n\t\t\t\t\t<el-button type=\"primary\" class=\"btn-login\" @click=\"login\">登录</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t\t<!-- <div class=\"toast\">\n\t\t\t\t\t<span>管理员账号：admin </span>\n\t\t\t\t\t<span>密码：654321</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"toast\">\n\t\t\t\t\t<span>普通人员账号：people</span>\n\t\t\t\t\t<span>密码：123456</span>\n\t\t\t\t</div> -->\n\t\t\t</el-form>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport dynamicUser from \"../../mock\"\nimport { getLogin, getMenu } from \"../../request/api\";\nimport { Message } from \"element-ui\"\nimport md5 from 'js-md5'\n\nexport default {\n\tname: 'login',\n\tdata() {\n\t\treturn {\n\t\t\tuser: {\n\t\t\t\tusername: \"\",\n\t\t\t\tpassword: \"\"\n\t\t\t},\n\t\t\trules: {\n\t\t\t\tusername: [\n\t\t\t\t\t{ required: true, message: '请输入用户名', trigger: 'blur' }\n\t\t\t\t],\n\t\t\t\tpassword: [\n\t\t\t\t\t{ required: true, message: '请输入密码', trigger: 'blur' }\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tlogin() {\n\t\t\tthis.$refs.userForm.validate(( valid ) => {\n\t\t\t    if(valid) {\n\t\t\t\t\tlet flag = !1\n\t\t\t\t\twindow.localStorage.removeItem(\"userInfo\")\n\t\t\t\t\tdynamicUser.forEach(item => {\n\t\t\t\t\t\tif(item[\"username\"] == this.user['username'] && item[\"password\"] == this.user['password']) {\n\t\t\t\t\t\t\tflag = !0\n\t\t\t\t\t\t\tMessage({ type: 'success', message: \"登录成功\", showClose: true, duration: 3000 })\n\t\t\t\t\t\t\twindow.localStorage.setItem(\"userInfo\", JSON.stringify(item))\n\t\t\t\t\t\t\tthis.$router.replace({ path: \"/\" })\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif(!flag) Message({ type: 'warning', message: \"账号密码错误，请重试!\", showClose: true, duration: 3000 })\n\t\t\t\t\t\n\t\t\t\t\treturn\n\t\t\t\t\tgetLogin({\n\t\t\t\t\t\tuserPhone: this.user['username'],\n\t\t\t\t\t\tpassWord: md5(this.user['password']),\n\t\t\t\t\t\tverCode: this.user['password']\n\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tif (res.data.success) {\n\t\t\t\t\t\t\t// Message({ type: 'success', message: \"登录成功\", showClose: true, duration: 3000 })\n\t\t\t\t\t\t\t// let item = {\n\t\t\t\t\t\t\t// \trole_name: res.data.role_name,\n\t\t\t\t\t\t\t// \tfarm_id: res.data.farm_id\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t// window.localStorage.setItem(\"userInfo\", JSON.stringify(item))\n\t\t\t\t\t\t\t// this.$router.replace({ path: \"/\" })\n\n\t\t\t\t\t\t\tthis.getMenuMethod(res.data.role_name, res.data.farm_id);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tMessage({ type: 'warning', message: \"账号密码错误，请重试!\", showClose: true, duration: 3000 })\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t    } else return false\n\t\t\t})\n\t\t},\n\t\tgetMenuMethod(role_name, farm_id){\n\t\t\tgetMenu({}).then((res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tif (res.data.success) {\n\t\t\t\t\t// Message({ type: 'success', message: \"登录成功\", showClose: true, duration: 3000 })\n\t\t\t\t\t// let item = {\n\t\t\t\t\t// \trole_name: role_name,\n\t\t\t\t\t// \tfarm_id: farm_id\n\t\t\t\t\t// }\n\t\t\t\t\t// window.localStorage.setItem(\"userInfo\", JSON.stringify(item))\n\t\t\t\t\t// this.$router.replace({ path: \"/\" })\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n</script>\n<style scoped>\n.login-wrapper {\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-evenly;\n\tbackground-color: #13153e;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.login_img_view{\n\twidth: 500px;\n\theight: 440px;\n}\n\n.login_img{\n\twidth: 500px;\n\theight: 440px;\n}\n.modal {\n\twidth: 360px;\n\t/* height: 380px; */\n\tbox-shadow: 0 0 10px 5px #ddd;\n\tpadding: 50px;\n\tborder-radius: 5px;\n\tbackground: #FFF;\n}\n.title {\n\twidth: 100%;\n\ttext-align: center;\n\tline-height: 1.5;\n\tfont-size: 42px;\n\tmargin-bottom: 30px;\n}\n.btn-login {\n\twidth: 100%;\n}\n.toast{\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n\theight: 50px;\n}\n</style>"],"sourceRoot":"src/views/login"}]}